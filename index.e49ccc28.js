!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var s={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("gD1JV",(function(e,t){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return n(e,t)}})),a.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),a.register("fVNic",(function(e,t){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return n(e)}})),a.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==i.default(t)&&"function"!=typeof t?n.default(e):t};var n=s(a("ds8z5")),i=s(a("l5bVx"));function s(e){return e&&e.__esModule?e:{default:e}}})),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),a.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return i.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i.default(e,t)};var n,i=(n=a("8NIkP"))&&n.__esModule?n:{default:n}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}})),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return i.default(e)};var n,i=(n=a("8NIkP"))&&n.__esModule?n:{default:n}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}));var o=a("l5bVx");function l(e,t){return function(){return e.apply(t,arguments)}}var c,u=Object.prototype.toString,h=Object.getPrototypeOf,d=(c=Object.create(null),function(e){var t=u.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())}),f=function(e){return e=e.toLowerCase(),function(t){return d(t)===e}},p=function(t){return function(n){return(void 0===n?"undefined":e(o)(n))===t}},v=Array.isArray,g=p("undefined");var y=f("ArrayBuffer");var m=p("string"),b=p("function"),w=p("number"),O=function(e){return null!==e&&"object"==typeof e},E=function(e){if("object"!==d(e))return!1;var t=h(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},S=f("Date"),x=f("File"),A=f("Blob"),L=f("FileList"),k=f("URLSearchParams");function C(e,t){var n,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s.allOwnKeys,a=void 0!==r&&r;if(null!=e)if("object"!=typeof e&&(e=[e]),v(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var o,l=a?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;for(n=0;n<c;n++)o=l[n],t.call(null,e[o],o,e)}}function T(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),s=i.length;s-- >0;)if(t===(n=i[s]).toLowerCase())return n;return null}var B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,D=function(e){return!g(e)&&e!==B};var N,P,R=(N="undefined"!=typeof Uint8Array&&h(Uint8Array),function(e){return N&&e instanceof N}),M=f("HTMLFormElement"),_=(P=Object.prototype.hasOwnProperty,function(e,t){return P.call(e,t)}),I=f("RegExp"),U=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};C(n,(function(n,s){var r;!1!==(r=t(n,s,e))&&(i[s]=r||n)})),Object.defineProperties(e,i)},j="abcdefghijklmnopqrstuvwxyz",F="0123456789",H={DIGIT:F,ALPHA:j,ALPHA_DIGIT:j+j.toUpperCase()+F};var V=f("AsyncFunction"),q={isArray:v,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=d(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer)},isString:m,isNumber:w,isBoolean:function(e){return!0===e||!1===e},isObject:O,isPlainObject:E,isUndefined:g,isDate:S,isFile:x,isBlob:A,isRegExp:I,isFunction:b,isStream:function(e){return O(e)&&b(e.pipe)},isURLSearchParams:k,isTypedArray:R,isFileList:L,forEach:C,merge:function e(){for(var t=(D(this)&&this||{}).caseless,n={},i=function(i,s){var r=t&&T(n,s)||s;E(n[r])&&E(i)?n[r]=e(n[r],i):E(i)?n[r]=e({},i):v(i)?n[r]=i.slice():n[r]=i},s=0,r=arguments.length;s<r;s++)arguments[s]&&C(arguments[s],i);return n},extend:function(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys;return C(t,(function(t,i){n&&b(t)?e[i]=l(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var s,r,a,o={};if(t=t||{},null==e)return t;do{for(r=(s=Object.getOwnPropertyNames(e)).length;r-- >0;)a=s[r],i&&!i(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&h(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:d,kindOfTest:f,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(v(e))return e;var t=e.length;if(!w(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var s=n.value;t.call(e,s[0],s[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:M,hasOwnProperty:_,hasOwnProp:_,reduceDescriptors:U,freezeMethods:function(e){U(e,(function(t,n){if(b(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];b(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return v(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:T,global:B,isContextDefined:D,ALPHABET:H,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.ALPHA_DIGIT,n="",i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10),n=function(e,i){if(O(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;var s=v(e)?[]:{};return C(e,(function(e,t){var r=n(e,i+1);!g(r)&&(s[t]=r)})),t[i]=void 0,s}}return e};return n(e,0)},isAsyncFn:V,isThenable:function(e){return e&&(O(e)||b(e))&&b(e.then)&&b(e.catch)}},z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var J={};function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function K(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(e,t,n){t&&W(e.prototype,t);n&&W(e,n);return e},q.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var G=K.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){X[e]={value:e}})),Object.defineProperties(K,X),Object.defineProperty(G,"isAxiosError",{value:!0}),K.from=function(e,t,n,i,s,r){var a=Object.create(G);return q.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),K.call(a,e.message,t,n,i,s),a.cause=e,a.name=e.name,r&&Object.assign(a,r),a};var Y=K,Q=a("ds8z5"),$={};Object.defineProperty($,"__esModule",{value:!0}),$.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee.default(e,t)};var Z,ee=(Z=a("gD1JV"))&&Z.__esModule?Z:{default:Z};o=a("l5bVx");var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.default=function(e){var t=re.default();return function(){var n,i=ae.default(e);if(t){var s=ae.default(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return oe.default(this,n)}};var ne,ie,se,re=le(a("aTHs7")),ae=le(a("fVNic")),oe=le(a("jmhxu"));function le(e){return e&&e.__esModule?e:{default:e}}ie=function(e){var t,n,i=ye(e),s=i[0],r=i[1],a=new fe(function(e,t,n){return 3*(t+n)/4-n}(0,s,r)),o=0,l=r>0?s-4:s;for(n=0;n<l;n+=4)t=de[e.charCodeAt(n)]<<18|de[e.charCodeAt(n+1)]<<12|de[e.charCodeAt(n+2)]<<6|de[e.charCodeAt(n+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=255&t;2===r&&(t=de[e.charCodeAt(n)]<<2|de[e.charCodeAt(n+1)]>>4,a[o++]=255&t);1===r&&(t=de[e.charCodeAt(n)]<<10|de[e.charCodeAt(n+1)]<<4|de[e.charCodeAt(n+2)]>>2,a[o++]=t>>8&255,a[o++]=255&t);return a},se=function(e){for(var t,n=e.length,i=n%3,s=[],r=16383,a=0,o=n-i;a<o;a+=r)s.push(me(e,a,a+r>o?o:a+r));1===i?(t=e[n-1],s.push(he[t>>2]+he[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(he[t>>10]+he[t>>4&63]+he[t<<2&63]+"="));return s.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var ce,ue,he=[],de=[],fe="undefined"!=typeof Uint8Array?Uint8Array:Array,pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve=0,ge=pe.length;ve<ge;++ve)he[ve]=pe[ve],de[pe.charCodeAt(ve)]=ve;function ye(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function me(e,t,n){for(var i,s,r=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(he[(s=i)>>18&63]+he[s>>12&63]+he[s>>6&63]+he[63&s]);return r.join("")}de["-".charCodeAt(0)]=62,de["_".charCodeAt(0)]=63,ce=function(e,t,n,i,s){var r,a,o=8*s-i-1,l=(1<<o)-1,c=l>>1,u=-7,h=n?s-1:0,d=n?-1:1,f=e[t+h];for(h+=d,r=f&(1<<-u)-1,f>>=-u,u+=o;u>0;r=256*r+e[t+h],h+=d,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),r-=c}return(f?-1:1)*a*Math.pow(2,r-i)},ue=function(e,t,n,i,s,r){var a,o,l,c=8*r-s-1,u=(1<<c)-1,h=u>>1,d=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,p=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(o=0,a=u):a+h>=1?(o=(t*l-1)*Math.pow(2,s),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,s),a=0));s>=8;e[n+f]=255&o,f+=p,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*v};var be="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ne=Ee;var we=2147483647;function Oe(e){if(e>we)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Ee.prototype),t}function Ee(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Ae(e)}return Se(e,t,n)}function Se(t,n,i){if("string"==typeof t)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Ee.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|Te(e,t),i=Oe(n),s=i.write(e,t);s!==n&&(i=i.slice(0,s));return i}(t,n);if(ArrayBuffer.isView(t))return function(e){if(ct(e,Uint8Array)){var t=new Uint8Array(e);return ke(t.buffer,t.byteOffset,t.byteLength)}return Le(e)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(o)(t)));if(ct(t,ArrayBuffer)||t&&ct(t.buffer,ArrayBuffer))return ke(t,n,i);if("undefined"!=typeof SharedArrayBuffer&&(ct(t,SharedArrayBuffer)||t&&ct(t.buffer,SharedArrayBuffer)))return ke(t,n,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return Ee.from(s,n,i);var r=function(e){if(Ee.isBuffer(e)){var t=0|Ce(e.length),n=Oe(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||ut(e.length)?Oe(0):Le(e);if("Buffer"===e.type&&Array.isArray(e.data))return Le(e.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return Ee.from(t[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":e(o)(t)))}function xe(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Ae(e){return xe(e),Oe(e<0?0:0|Ce(e))}function Le(e){for(var t=e.length<0?0:0|Ce(e.length),n=Oe(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function ke(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,Ee.prototype),i}function Ce(e){if(e>=we)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+we.toString(16)+" bytes");return 0|e}function Te(t,n){if(Ee.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ct(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":e(o)(t)));var i=t.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===i)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return at(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return ot(t).length;default:if(r)return s?-1:at(t).length;n=(""+n).toLowerCase(),r=!0}}function Be(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return ze(this,t,n);case"utf8":case"utf-8":return Fe(this,t,n);case"ascii":return Ve(this,t,n);case"latin1":case"binary":return qe(this,t,n);case"base64":return je(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Je(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function De(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Ne(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ut(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=Ee.from(t,i)),Ee.isBuffer(t))return 0===t.length?-1:Pe(e,t,n,i,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Pe(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function Pe(e,t,n,i,s){var r,a=1,o=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){var u=-1;for(r=n;r<o;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+l>o&&(n=o-l),r=n;r>=0;r--){for(var h=!0,d=0;d<l;d++)if(c(e,r+d)!==c(t,d)){h=!1;break}if(h)return r}return-1}function Re(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i))>s&&(i=s):i=s;var r,a=t.length;for(i>a/2&&(i=a/2),r=0;r<i;++r){var o=parseInt(t.substr(2*r,2),16);if(ut(o))return r;e[n+r]=o}return r}function Me(e,t,n,i){return lt(at(t,e.length-n),e,n,i)}function _e(e,t,n,i){return lt(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function Ie(e,t,n,i){return lt(ot(t),e,n,i)}function Ue(e,t,n,i){return lt(function(e,t){for(var n,i,s,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,s=n%256,r.push(s),r.push(i);return r}(t,e.length-n),e,n,i)}function je(e,t,n){return 0===t&&n===e.length?se(e):se(e.slice(t,n))}function Fe(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;s<n;){var r=e[s],a=null,o=r>239?4:r>223?3:r>191?2:1;if(s+o<=n){var l=void 0,c=void 0,u=void 0,h=void 0;switch(o){case 1:r<128&&(a=r);break;case 2:128==(192&(l=e[s+1]))&&(h=(31&r)<<6|63&l)>127&&(a=h);break;case 3:l=e[s+1],c=e[s+2],128==(192&l)&&128==(192&c)&&(h=(15&r)<<12|(63&l)<<6|63&c)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:l=e[s+1],c=e[s+2],u=e[s+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(h=(15&r)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),s+=o}return function(e){var t=e.length;if(t<=He)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=He));return n}(i)}Ee.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Ee.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ee.prototype,"parent",{enumerable:!0,get:function(){if(Ee.isBuffer(this))return this.buffer}}),Object.defineProperty(Ee.prototype,"offset",{enumerable:!0,get:function(){if(Ee.isBuffer(this))return this.byteOffset}}),Ee.poolSize=8192,Ee.from=function(e,t,n){return Se(e,t,n)},Object.setPrototypeOf(Ee.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ee,Uint8Array),Ee.alloc=function(e,t,n){return function(e,t,n){return xe(e),e<=0?Oe(e):void 0!==t?"string"==typeof n?Oe(e).fill(t,n):Oe(e).fill(t):Oe(e)}(e,t,n)},Ee.allocUnsafe=function(e){return Ae(e)},Ee.allocUnsafeSlow=function(e){return Ae(e)},Ee.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Ee.prototype},Ee.compare=function(e,t){if(ct(e,Uint8Array)&&(e=Ee.from(e,e.offset,e.byteLength)),ct(t,Uint8Array)&&(t=Ee.from(t,t.offset,t.byteLength)),!Ee.isBuffer(e)||!Ee.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,s=0,r=Math.min(n,i);s<r;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},Ee.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ee.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Ee.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=Ee.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var r=e[n];if(ct(r,Uint8Array))s+r.length>i.length?(Ee.isBuffer(r)||(r=Ee.from(r)),r.copy(i,s)):Uint8Array.prototype.set.call(i,r,s);else{if(!Ee.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,s)}s+=r.length}return i},Ee.byteLength=Te,Ee.prototype._isBuffer=!0,Ee.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)De(this,t,t+1);return this},Ee.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)De(this,t,t+3),De(this,t+1,t+2);return this},Ee.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)De(this,t,t+7),De(this,t+1,t+6),De(this,t+2,t+5),De(this,t+3,t+4);return this},Ee.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Fe(this,0,e):Be.apply(this,arguments)},Ee.prototype.toLocaleString=Ee.prototype.toString,Ee.prototype.equals=function(e){if(!Ee.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Ee.compare(this,e)},Ee.prototype.inspect=function(){var e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},be&&(Ee.prototype[be]=Ee.prototype.inspect),Ee.prototype.compare=function(t,n,i,s,r){if(ct(t,Uint8Array)&&(t=Ee.from(t,t.offset,t.byteLength)),!Ee.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":e(o)(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),n<0||i>t.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&n>=i)return 0;if(s>=r)return-1;if(n>=i)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(s>>>=0),l=(i>>>=0)-(n>>>=0),c=Math.min(a,l),u=this.slice(s,r),h=t.slice(n,i),d=0;d<c;++d)if(u[d]!==h[d]){a=u[d],l=h[d];break}return a<l?-1:l<a?1:0},Ee.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Ee.prototype.indexOf=function(e,t,n){return Ne(this,e,t,n,!0)},Ee.prototype.lastIndexOf=function(e,t,n){return Ne(this,e,t,n,!1)},Ee.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return Re(this,e,t,n);case"utf8":case"utf-8":return Me(this,e,t,n);case"ascii":case"latin1":case"binary":return _e(this,e,t,n);case"base64":return Ie(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},Ee.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var He=4096;function Ve(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}function qe(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}function ze(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var s="",r=t;r<n;++r)s+=ht[e[r]];return s}function Je(e,t,n){for(var i=e.slice(t,n),s="",r=0;r<i.length-1;r+=2)s+=String.fromCharCode(i[r]+256*i[r+1]);return s}function We(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ke(e,t,n,i,s,r){if(!Ee.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Ge(e,t,n,i,s){nt(t,i,s,e,n,7);var r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function Xe(e,t,n,i,s){nt(t,i,s,e,n,7);var r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function Ye(e,t,n,i,s,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Qe(e,t,n,i,s){return t=+t,n>>>=0,s||Ye(e,0,n,4),ue(e,t,n,i,23,4),n+4}function $e(e,t,n,i,s){return t=+t,n>>>=0,s||Ye(e,0,n,8),ue(e,t,n,i,52,8),n+8}Ee.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,Ee.prototype),i},Ee.prototype.readUintLE=Ee.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||We(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return i},Ee.prototype.readUintBE=Ee.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||We(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},Ee.prototype.readUint8=Ee.prototype.readUInt8=function(e,t){return e>>>=0,t||We(e,1,this.length),this[e]},Ee.prototype.readUint16LE=Ee.prototype.readUInt16LE=function(e,t){return e>>>=0,t||We(e,2,this.length),this[e]|this[e+1]<<8},Ee.prototype.readUint16BE=Ee.prototype.readUInt16BE=function(e,t){return e>>>=0,t||We(e,2,this.length),this[e]<<8|this[e+1]},Ee.prototype.readUint32LE=Ee.prototype.readUInt32LE=function(e,t){return e>>>=0,t||We(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ee.prototype.readUint32BE=Ee.prototype.readUInt32BE=function(e,t){return e>>>=0,t||We(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ee.prototype.readBigUInt64LE=dt((function(e){it(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||st(e,this.length-8);var i=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),s=this[++e]+256*this[++e]+65536*this[++e]+n*Math.pow(2,24);return BigInt(i)+(BigInt(s)<<BigInt(32))})),Ee.prototype.readBigUInt64BE=dt((function(e){it(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||st(e,this.length-8);var i=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(s)})),Ee.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||We(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},Ee.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||We(e,t,this.length);for(var i=t,s=1,r=this[e+--i];i>0&&(s*=256);)r+=this[e+--i]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},Ee.prototype.readInt8=function(e,t){return e>>>=0,t||We(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ee.prototype.readInt16LE=function(e,t){e>>>=0,t||We(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Ee.prototype.readInt16BE=function(e,t){e>>>=0,t||We(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Ee.prototype.readInt32LE=function(e,t){return e>>>=0,t||We(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ee.prototype.readInt32BE=function(e,t){return e>>>=0,t||We(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ee.prototype.readBigInt64LE=dt((function(e){it(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||st(e,this.length-8);var i=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),Ee.prototype.readBigInt64BE=dt((function(e){it(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||st(e,this.length-8);var i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+n)})),Ee.prototype.readFloatLE=function(e,t){return e>>>=0,t||We(e,4,this.length),ce(this,e,!0,23,4)},Ee.prototype.readFloatBE=function(e,t){return e>>>=0,t||We(e,4,this.length),ce(this,e,!1,23,4)},Ee.prototype.readDoubleLE=function(e,t){return e>>>=0,t||We(e,8,this.length),ce(this,e,!0,52,8)},Ee.prototype.readDoubleBE=function(e,t){return e>>>=0,t||We(e,8,this.length),ce(this,e,!1,52,8)},Ee.prototype.writeUintLE=Ee.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ke(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,r=0;for(this[t]=255&e;++r<n&&(s*=256);)this[t+r]=e/s&255;return t+n},Ee.prototype.writeUintBE=Ee.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||Ke(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,r=1;for(this[t+s]=255&e;--s>=0&&(r*=256);)this[t+s]=e/r&255;return t+n},Ee.prototype.writeUint8=Ee.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,1,255,0),this[t]=255&e,t+1},Ee.prototype.writeUint16LE=Ee.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Ee.prototype.writeUint16BE=Ee.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Ee.prototype.writeUint32LE=Ee.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Ee.prototype.writeUint32BE=Ee.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ee.prototype.writeBigUInt64LE=dt((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ge(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Ee.prototype.writeBigUInt64BE=dt((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Xe(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Ee.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*n-1);Ke(this,e,t,n,s-1,-s)}var r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},Ee.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var s=Math.pow(2,8*n-1);Ke(this,e,t,n,s-1,-s)}var r=n-1,a=1,o=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},Ee.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ee.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Ee.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Ee.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Ee.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ke(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ee.prototype.writeBigInt64LE=dt((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ge(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Ee.prototype.writeBigInt64BE=dt((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Xe(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Ee.prototype.writeFloatLE=function(e,t,n){return Qe(this,e,t,!0,n)},Ee.prototype.writeFloatBE=function(e,t,n){return Qe(this,e,t,!1,n)},Ee.prototype.writeDoubleLE=function(e,t,n){return $e(this,e,t,!0,n)},Ee.prototype.writeDoubleBE=function(e,t,n){return $e(this,e,t,!1,n)},Ee.prototype.copy=function(e,t,n,i){if(!Ee.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s},Ee.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Ee.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var s=e.charCodeAt(0);("utf8"===i&&s<128||"latin1"===i)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=Ee.isBuffer(e)?e:Ee.from(e,i),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=a[r%o]}return this};var Ze={};function et(t,n,i){Ze[t]=function(i){e($)(r,i);var s=e(te)(r);function r(){var i;return e(z)(this,r),i=s.call(this),Object.defineProperty(e(Q)(i),"message",{value:n.apply(e(Q)(i),arguments),writable:!0,configurable:!0}),i.name="".concat(i.name," [").concat(t,"]"),i.stack,delete i.name,i}return e(J)(r,[{key:"code",get:function(){return t},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}]),r}(i)}function tt(e){for(var t="",n=e.length,i="-"===e[0]?1:0;n>=i+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function nt(t,n,i,s,r,a){if(t>i||t<n){var l,c="bigint"===(void 0===n?"undefined":e(o)(n))?"n":"";throw l=a>3?0===n||n===BigInt(0)?">= 0".concat(c," and < 2").concat(c," ** ").concat(8*(a+1)).concat(c):">= -(2".concat(c," ** ").concat(8*(a+1)-1).concat(c,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(c):">= ".concat(n).concat(c," and <= ").concat(i).concat(c),new Ze.ERR_OUT_OF_RANGE("value",l,t)}!function(e,t,n){it(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||st(t,e.length-(n+1))}(s,r,a)}function it(e,t){if("number"!=typeof e)throw new Ze.ERR_INVALID_ARG_TYPE(t,"number",e)}function st(e,t,n){if(Math.floor(e)!==e)throw it(e,n),new Ze.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new Ze.ERR_BUFFER_OUT_OF_BOUNDS;throw new Ze.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}et("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),et("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":e(o)(n))}),TypeError),et("ERR_OUT_OF_RANGE",(function(t,n,i){var s='The value of "'.concat(t,'" is out of range.'),r=i;return Number.isInteger(i)&&Math.abs(i)>Math.pow(2,32)?r=tt(String(i)):"bigint"===(void 0===i?"undefined":e(o)(i))&&(r=String(i),(i>Math.pow(BigInt(2),BigInt(32))||i<-Math.pow(BigInt(2),BigInt(32)))&&(r=tt(r)),r+="n"),s+=" It must be ".concat(n,". Received ").concat(r)}),RangeError);var rt=/[^+/0-9A-Za-z-_]/g;function at(e,t){var n;t=t||1/0;for(var i=e.length,s=null,r=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&r.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&r.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function ot(e){return ie(function(e){if((e=(e=e.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function lt(e,t,n,i){var s;for(s=0;s<i&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function ct(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ut(e){return e!=e}var ht=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var i=16*n,s=0;s<16;++s)t[i+s]=e[n]+e[s];return t}();function dt(e){return"undefined"==typeof BigInt?ft:e}function ft(){throw new Error("BigInt not supported")}var pt=ne;function vt(e){return q.isPlainObject(e)||q.isArray(e)}function gt(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function yt(e,t,n){return e?e.concat(t).map((function(e,t){return e=gt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var mt=q.toFlatObject(q,{},null,(function(e){return/^is[A-Z]/.test(e)}));var bt=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var i=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!q.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,r=n.dots,a=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(!o&&q.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):pt.from(e):e}function c(e,n,s){var o=e;if(e&&!s&&"object"==typeof e)if(q.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(vt)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(o=q.toArray(e)))return n=gt(n),o.forEach((function(e,i){!q.isUndefined(e)&&null!==e&&t.append(!0===a?yt([n],i,r):null===a?n:n+"[]",l(e))})),!1;return!!vt(e)||(t.append(yt(s,n,r),l(e)),!1)}var u=[],h=Object.assign(mt,{defaultVisitor:c,convertValue:l,isVisitable:vt});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!q.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),q.forEach(n,(function(n,r){!0===(!(q.isUndefined(n)||null===n)&&s.call(t,n,q.isString(r)?r.trim():r,i,h))&&e(n,i?i.concat(r):[r])})),u.pop()}}(e),t};function wt(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ot(e,t){this._pairs=[],e&&bt(e,this,t)}var Et=Ot.prototype;Et.append=function(e,t){this._pairs.push([e,t])},Et.toString=function(e){var t=e?function(t){return e.call(this,t,wt)}:wt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var St=Ot;function xt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function At(e,t,n){if(!t)return e;var i,s=n&&n.encode||xt,r=n&&n.serialize;if(i=r?r(t,n):q.isURLSearchParams(t)?t.toString():new St(t,n).toString(s)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var Lt=function(){function t(){e(z)(this,t),this.handlers=[]}return e(J)(t,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),t}(),kt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Tt.default(e,t,n[t])}))}return e};var Tt=function(e){return e&&e.__esModule?e:{default:e}}(a("hKHmD"));var Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:St,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Dt={};n(Dt,"hasBrowserEnv",(function(){return Pt})),n(Dt,"hasStandardBrowserEnv",(function(){return Rt})),n(Dt,"hasStandardBrowserWebWorkerEnv",(function(){return Mt}));var Nt,Pt="undefined"!=typeof window&&"undefined"!=typeof document,Rt=(Nt="undefined"!=typeof navigator&&navigator.product,Pt&&["ReactNative","NativeScript","NS"].indexOf(Nt)<0),Mt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,_t=e(Ct)({},Dt,Bt);function It(e,t){return bt(e,new _t.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return _t.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}var Ut=function(e){function t(e,n,i,s){var r=e[s++],a=Number.isFinite(+r),o=s>=e.length;return r=!r&&q.isArray(i)?i.length:r,o?(q.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!a):(i[r]&&q.isObject(i[r])||(i[r]=[]),t(e,n,i[r],s)&&q.isArray(i[r])&&(i[r]=function(e){var t,n,i={},s=Object.keys(e),r=s.length;for(t=0;t<r;t++)i[n=s[t]]=e[n];return i}(i[r])),!a)}if(q.isFormData(e)&&q.isFunction(e.entries)){var n={};return q.forEachEntry(e,(function(e,i){t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null};var jt={transitional:kt,adapter:["xhr","http"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=q.isObject(e);if(r&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return s&&s?JSON.stringify(Ut(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return It(e,this.formSerializer).toString();if((n=q.isFileList(e))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return bt(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||jt.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&q.isString(e)&&(n&&!this.responseType||i)){var s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw Y.from(e,Y.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],(function(e){jt.headers[e]={}}));var Ft=jt,Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=function(e,t){return Vt.default(e)||qt.default(e,t)||Jt.default(e,t)||zt.default()};var Vt=Wt(a("8slrw")),qt=Wt(a("7AJDX")),zt=Wt(a("ifqQW")),Jt=Wt(a("auk6i"));function Wt(e){return e&&e.__esModule?e:{default:e}}var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=function(e){return Gt.default(e)||Xt.default(e)||Qt.default(e)||Yt.default()};var Gt=$t(a("kMC0W")),Xt=$t(a("7AJDX")),Yt=$t(a("8CtQK")),Qt=$t(a("auk6i"));function $t(e){return e&&e.__esModule?e:{default:e}}var Zt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),en=function(e){var t,n,i,s={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||s[t]&&Zt[t]||("set-cookie"===t?s[t]?s[t].push(n):s[t]=[n]:s[t]=s[t]?s[t]+", "+n:n)})),s},tn=Symbol("internals");function nn(e){return e&&String(e).trim().toLowerCase()}function sn(e){return!1===e||null==e?e:q.isArray(e)?e.map(sn):String(e)}function rn(e,t,n,i,s){return q.isFunction(i)?i.call(this,t,n):(s&&(t=n),q.isString(t)?q.isString(i)?-1!==t.indexOf(i):q.isRegExp(i)?i.test(t):void 0:void 0)}var an=Symbol.iterator,on=Symbol.toStringTag,ln=function(){function t(n){e(z)(this,t),n&&this.set(n)}return e(J)(t,[{key:"set",value:function(e,t,n){var i=this;function s(e,t,n){var s=nn(t);if(!s)throw new Error("header name must be a non-empty string");var r=q.findKey(i,s);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=sn(e))}var r=function(e,t){return q.forEach(e,(function(e,n){return s(e,n,t)}))};return q.isPlainObject(e)||e instanceof this.constructor?r(e,t):q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?r(en(e),t):null!=e&&s(t,e,n),this}},{key:"get",value:function(e,t){if(e=nn(e)){var n=q.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(q.isFunction(t))return t.call(this,i,n);if(q.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=nn(e)){var n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!rn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function s(e){if(e=nn(e)){var s=q.findKey(n,e);!s||t&&!rn(0,n[s],s,t)||(delete n[s],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,i=!1;n--;){var s=t[n];e&&!rn(0,this[s],s,e,!0)||(delete this[s],i=!0)}return i}},{key:"normalize",value:function(e){var t=this,n={};return q.forEach(this,(function(i,s){var r=q.findKey(n,s);if(r)return t[r]=sn(i),void delete t[s];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(s):String(s).trim();a!==s&&delete t[s],t[a]=sn(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s;return(s=this.constructor).concat.apply(s,[this].concat(e(Kt)(n)))}},{key:"toJSON",value:function(e){var t=Object.create(null);return q.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&q.isArray(n)?n.join(", "):n)})),t}},{key:an,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var n=e(Ht)(t,2);return n[0]+": "+n[1]})).join("\n")}},{key:on,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=new this(e);return n.forEach((function(e){return s.set(e)})),s}},{key:"accessor",value:function(e){var t=(this[tn]=this[tn]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=nn(e);t[i]||(!function(e,t){var n=q.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,s){return this[i].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[i]=!0)}return q.isArray(e)?e.forEach(i):i(e),this}}]),t}();ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(ln.prototype,(function(e,t){var n=e.value,i=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[i]=e}}})),q.freezeMethods(ln);var cn=ln;function un(e,t){var n=this||Ft,i=t||n,s=cn.from(i.headers),r=i.data;return q.forEach(e,(function(e){r=e.call(n,r,s.normalize(),t?t.status:void 0)})),s.normalize(),r}function hn(e){return!(!e||!e.__CANCEL__)}function dn(e,t,n){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(dn,Y,{__CANCEL__:!0});var fn=dn,pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=function(e){return vn.default(e)||gn.default(e)||mn.default(e,i)||yn.default()};var vn=bn(a("8slrw")),gn=bn(a("7AJDX")),yn=bn(a("ifqQW")),mn=bn(a("auk6i"));function bn(e){return e&&e.__esModule?e:{default:e}}function wn(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var On=_t.hasStandardBrowserEnv?{write:function(e,t,n,i,s,r){var a=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),q.isString(i)&&a.push("path="+i),q.isString(s)&&a.push("domain="+s),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function En(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Sn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?En(e,t):t}var xn=_t.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=q.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var An=function(e,t){e=e||10;var n,i=new Array(e),s=new Array(e),r=0,a=0;return t=void 0!==t?t:1e3,function(o){var l=Date.now(),c=s[a];n||(n=l),i[r]=o,s[r]=l;for(var u=a,h=0;u!==r;)h+=i[u++],u%=e;if((r=(r+1)%e)===a&&(a=(a+1)%e),!(l-n<t)){var d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}};function Ln(e,t){var n=0,i=An(50,250);return function(s){var r=s.loaded,a=s.lengthComputable?s.total:void 0,o=r-n,l=i(o);n=r;var c={loaded:r,total:a,progress:a?r/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:s};c[t?"download":"upload"]=!0,e(c)}}var kn={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(n,i){var s,r,a=t.data,o=cn.from(t.headers).normalize(),l=t.responseType,c=t.withXSRFToken;function u(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(q.isFormData(a))if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(r=o.getContentType())){var h=e(pn)(r?r.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),d=h[0],f=h.slice(1);o.setContentType([d||"multipart/form-data"].concat(e(Kt)(f)).join("; "))}var p=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(v+":"+g))}var y=Sn(t.baseURL,t.url);function m(){if(p){var e=cn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());wn((function(e){n(e),u()}),(function(e){i(e),u()}),{data:l&&"text"!==l&&"json"!==l?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:t,request:p}),p=null}}if(p.open(t.method.toUpperCase(),At(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(i(new Y("Request aborted",Y.ECONNABORTED,t,p)),p=null)},p.onerror=function(){i(new Y("Network Error",Y.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||kt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(new Y(e,n.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,t,p)),p=null},_t.hasStandardBrowserEnv&&(c&&q.isFunction(c)&&(c=c(t)),c||!1!==c&&xn(y))){var b=t.xsrfHeaderName&&t.xsrfCookieName&&On.read(t.xsrfCookieName);b&&o.set(t.xsrfHeaderName,b)}void 0===a&&o.setContentType(null),"setRequestHeader"in p&&q.forEach(o.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),q.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),l&&"json"!==l&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",Ln(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",Ln(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=function(e){p&&(i(!e||e.type?new fn(null,t,p):e),p.abort(),p=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));var w,O=(w=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y))&&w[1]||"";O&&-1===_t.protocols.indexOf(O)?i(new Y("Unsupported protocol "+O+":",Y.ERR_BAD_REQUEST,t)):p.send(a||null)}))}};q.forEach(kn,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var Cn=function(e){return"- ".concat(e)},Tn=function(e){return q.isFunction(e)||null===e||!1===e},Bn={getAdapter:function(t){for(var n,i,s=(t=q.isArray(t)?t:[t]).length,r={},a=0;a<s;a++){var o=void 0;if(i=n=t[a],!Tn(n)&&void 0===(i=kn[(o=String(n)).toLowerCase()]))throw new Y("Unknown adapter '".concat(o,"'"));if(i)break;r[o||"#"+a]=i}if(!i){var l=Object.entries(r).map((function(t){var n=e(Ht)(t,2),i=n[0],s=n[1];return"adapter ".concat(i," ")+(!1===s?"is not supported by the environment":"is not available in the build")})),c=s?l.length>1?"since :\n"+l.map(Cn).join("\n"):" "+Cn(l[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:kn};function Dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fn(null,e)}function Nn(e){return Dn(e),e.headers=cn.from(e.headers),e.data=un.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Bn.getAdapter(e.adapter||Ft.adapter)(e).then((function(t){return Dn(e),t.data=un.call(e,e.transformResponse,t),t.headers=cn.from(t.headers),t}),(function(t){return hn(t)||(Dn(e),t&&t.response&&(t.response.data=un.call(e,e.transformResponse,t.response),t.response.headers=cn.from(t.response.headers))),Promise.reject(t)}))}var Pn=function(e){return e instanceof cn?e.toJSON():e};function Rn(e,t){t=t||{};var n={};function i(e,t,n){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:n},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function s(e,t,n){return q.isUndefined(t)?q.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function r(e,t){if(!q.isUndefined(t))return i(void 0,t)}function a(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,s,r){return r in t?i(n,s):r in e?i(void 0,n):void 0}var l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:function(e,t){return s(Pn(e),Pn(t),!0)}};return q.forEach(Object.keys(Object.assign({},e,t)),(function(i){var r=l[i]||s,a=r(e[i],t[i],i);q.isUndefined(a)&&r!==o||(n[i]=a)})),n}o=a("l5bVx");var Mn="1.6.2",_n={};["object","boolean","number","function","string","symbol"].forEach((function(t,n){_n[t]=function(i){return(void 0===i?"undefined":e(o)(i))===t||"a"+(n<1?"n ":" ")+t}}));var In={};_n.transitional=function(e,t,n){function i(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,s,r){if(!1===e)throw new Y(i(s," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!In[s]&&(In[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,r)}};var Un={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var r=i[s],a=t[r];if(a){var o=e[r],l=void 0===o||a(o,r,e);if(!0!==l)throw new Y("option "+r+" must be "+l,Y.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Y("Unknown option "+r,Y.ERR_BAD_OPTION)}},validators:_n},jn=Un.validators,Fn=function(){function t(n){e(z)(this,t),this.defaults=n,this.interceptors={request:new Lt,response:new Lt}}return e(J)(t,[{key:"request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n=(t=Rn(this.defaults,t)).transitional,i=t.paramsSerializer,s=t.headers;void 0!==n&&Un.assertOptions(n,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),null!=i&&(q.isFunction(i)?t.paramsSerializer={serialize:i}:Un.assertOptions(i,{encode:jn.function,serialize:jn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var r=s&&q.merge(s.common,s[t.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=cn.concat(r,s);var a=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var u,h=0;if(!o){var d=[Nn.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,c),u=d.length,l=Promise.resolve(t);h<u;)l=l.then(d[h++],d[h++]);return l}u=a.length;var f=t;for(h=0;h<u;){var p=a[h++],v=a[h++];try{f=p(f)}catch(e){v.call(this,e);break}}try{l=Nn.call(this,f)}catch(e){return Promise.reject(e)}for(h=0,u=c.length;h<u;)l=l.then(c[h++],c[h++]);return l}},{key:"getUri",value:function(e){return At(Sn((e=Rn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),t}();q.forEach(["delete","get","head","options"],(function(e){Fn.prototype[e]=function(t,n){return this.request(Rn(n||{},{method:e,url:t,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,s){return this.request(Rn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Fn.prototype[e]=t(),Fn.prototype[e+"Form"]=t(!0)}));var Hn=Fn,Vn=function(){function t(n){if(e(z)(this,t),"function"!=typeof n)throw new TypeError("executor must be a function.");var i;this.promise=new Promise((function(e){i=e}));var s=this;this.promise.then((function(e){if(s._listeners){for(var t=s._listeners.length;t-- >0;)s._listeners[t](e);s._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){s.subscribe(e),t=e})).then(e);return n.cancel=function(){s.unsubscribe(t)},n},n((function(e,t,n){s.reason||(s.reason=new fn(e,t,n),i(s.reason))}))}return e(J)(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}]),t}();var qn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qn).forEach((function(t){var n=e(Ht)(t,2),i=n[0],s=n[1];qn[s]=i}));var zn=qn;var Jn=function e(t){var n=new Hn(t),i=l(Hn.prototype.request,n);return q.extend(i,Hn.prototype,n,{allOwnKeys:!0}),q.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Rn(t,n))},i}(Ft);Jn.Axios=Hn,Jn.CanceledError=fn,Jn.CancelToken=Vn,Jn.isCancel=hn,Jn.VERSION=Mn,Jn.toFormData=bt,Jn.AxiosError=Y,Jn.Cancel=Jn.CanceledError,Jn.all=function(e){return Promise.all(e)},Jn.spread=function(e){return function(t){return e.apply(null,t)}},Jn.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},Jn.mergeConfig=Rn,Jn.AxiosHeaders=cn,Jn.formToJSON=function(e){return Ut(q.isHTMLForm(e)?new FormData(e):e)},Jn.getAdapter=Bn.getAdapter,Jn.HttpStatusCode=zn,Jn.default=Jn;var Wn=Jn,Kn=(Wn.Axios,Wn.AxiosError,Wn.CanceledError,Wn.isCancel,Wn.CancelToken,Wn.VERSION,Wn.all,Wn.Cancel,Wn.isAxiosError,Wn.spread,Wn.toFormData,Wn.AxiosHeaders,Wn.HttpStatusCode,Wn.formToJSON,Wn.getAdapter,Wn.mergeConfig,{});Kn=function(){"use strict";function t(){return Math.random().toString(36).substring(2,10)}function n(e,t){function n(e,n){return n&&e&&e.classList&&e.classList.contains(n)||n&&e&&e.dataset&&e.dataset.id&&e.dataset.id===t?e:null}function i(e,t){return e&&e!==document?n(e,t)?e:i(e.parentNode,t):null}return n(e,t)||i(e,t)}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var o=self,l=function(){t=null,i||e.apply(o,r)},c=i&&!t;clearTimeout(t),t=setTimeout(l,n),c&&e.apply(o,r)}}function s(e,t){return JSON.stringify(e)===JSON.stringify(t)}function r(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t}var a=function n(i){e(z)(this,n),this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,i||(i={}),this.id="ss-"+t(),this.style=i.style||"",this.class=i.class||[],this.disabled=void 0!==i.disabled&&i.disabled,this.alwaysOpen=void 0!==i.alwaysOpen&&i.alwaysOpen,this.showSearch=void 0===i.showSearch||i.showSearch,this.ariaLabel=i.ariaLabel||"Combobox",this.searchPlaceholder=i.searchPlaceholder||"Search",this.searchText=i.searchText||"No Results",this.searchingText=i.searchingText||"Searching...",this.searchHighlight=void 0!==i.searchHighlight&&i.searchHighlight,this.closeOnSelect=void 0===i.closeOnSelect||i.closeOnSelect,this.contentLocation=i.contentLocation||document.body,this.contentPosition=i.contentPosition||"absolute",this.openPosition=i.openPosition||"auto",this.placeholderText=void 0!==i.placeholderText?i.placeholderText:"Select Value",this.allowDeselect=void 0!==i.allowDeselect&&i.allowDeselect,this.hideSelected=void 0!==i.hideSelected&&i.hideSelected,this.showOptionTooltips=void 0!==i.showOptionTooltips&&i.showOptionTooltips,this.minSelected=i.minSelected||0,this.maxSelected=i.maxSelected||1e3,this.timeoutDelay=i.timeoutDelay||200,this.maxValuesShown=i.maxValuesShown||20,this.maxValuesMessage=i.maxValuesMessage||"{number} selected"},o=function n(i){e(z)(this,n),this.id=i.id&&""!==i.id?i.id:t(),this.label=i.label||"",this.selectAll=void 0!==i.selectAll&&i.selectAll,this.selectAllText=i.selectAllText||"Select All",this.closable=i.closable||"off",this.options=[];var s=!0,r=!1,a=void 0;if(i.options)try{for(var o,c=i.options[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var u=o.value;this.options.push(new l(u))}}catch(e){r=!0,a=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw a}}},l=function n(i){e(z)(this,n),this.id=i.id&&""!==i.id?i.id:t(),this.value=void 0===i.value?i.text:i.value,this.text=i.text||"",this.html=i.html||"",this.selected=void 0!==i.selected&&i.selected,this.display=void 0===i.display||i.display,this.disabled=void 0!==i.disabled&&i.disabled,this.mandatory=void 0!==i.mandatory&&i.mandatory,this.placeholder=void 0!==i.placeholder&&i.placeholder,this.class=i.class||"",this.style=i.style||"",this.data=i.data||{}},c=function(){function t(n,i){e(z)(this,t),this.selectType="single",this.data=[],this.selectType=n,this.setData(i)}return e(J)(t,[{key:"validateDataArray",value:function(e){if(!Array.isArray(e))return new Error("Data must be an array");var t=!0,n=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;if(!(a instanceof o||"label"in a))return a instanceof l||"text"in a?this.validateOption(a):new Error("Data object must be a valid optgroup or option");if(!("label"in a))return new Error("Optgroup must have a label");if("options"in a&&a.options){var c=!0,u=!1,h=void 0;try{for(var d,f=a.options[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;return this.validateOption(p)}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}},{key:"validateOption",value:function(e){return"text"in e?null:new Error("Option must have a text")}},{key:"partialToFullData",value:function(e){var t=[];return e.forEach((function(e){if(e instanceof o||"label"in e){var n=[];"options"in e&&e.options&&e.options.forEach((function(e){n.push(new l(e))})),n.length>0&&t.push(new o(e))}(e instanceof l||"text"in e)&&t.push(new l(e))})),t}},{key:"setData",value:function(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}},{key:"getData",value:function(){return this.filter(null,!0)}},{key:"getDataOptions",value:function(){return this.filter(null,!1)}},{key:"addOption",value:function(e){this.setData(this.getData().concat(new l(e)))}},{key:"setSelectedBy",value:function(e,t){var n=null,i=!1,s=!0,r=!1,a=void 0;try{for(var c,u=this.data[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var h=c.value,d=!0,f=!1,p=void 0;if(h instanceof o)try{for(var v,g=h.options[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var y=v.value;n||(n=y),y.selected=!i&&t.includes(y[e]),y.selected&&"single"===this.selectType&&(i=!0)}}catch(e){f=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}h instanceof l&&(n||(n=h),h.selected=!i&&t.includes(h[e]),h.selected&&"single"===this.selectType&&(i=!0))}}catch(e){r=!0,a=e}finally{try{s||null==u.return||u.return()}finally{if(r)throw a}}"single"===this.selectType&&n&&!i&&(n.selected=!0)}},{key:"getSelected",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.value)})),t}},{key:"getSelectedOptions",value:function(){return this.filter((function(e){return e.selected}),!1)}},{key:"getSelectedIDs",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.id)})),t}},{key:"getOptgroupByID",value:function(e){var t=!0,n=!1,i=void 0;try{for(var s,r=this.data[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;if(a instanceof o&&a.id===e)return a}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}},{key:"getOptionByID",value:function(e){var t=this.filter((function(t){return t.id===e}),!1);return t.length?t[0]:null}},{key:"getSelectType",value:function(){return this.selectType}},{key:"getFirstOption",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var s,r=this.data[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;if(a instanceof o?e=a.options[0]:a instanceof l&&(e=a),e)break}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}},{key:"search",value:function(e,t){return""===(e=e.trim())?this.getData():this.filter((function(n){return t(n,e)}),!0)}},{key:"filter",value:function(e,t){var n=[];return this.data.forEach((function(i){if(i instanceof o){var s=[];if(i.options.forEach((function(i){e&&!e(i)||(t?s.push(new l(i)):n.push(new l(i)))})),s.length>0){var r=new o(i);r.options=s,n.push(r)}}i instanceof l&&(e&&!e(i)||n.push(new l(i)))})),n}}]),t}(),u=function(){function t(n,i,s){e(z)(this,t),this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=i,this.settings=n,this.callbacks=s,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}return e(J)(t,[{key:"enable",value:function(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}},{key:"disable",value:function(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}},{key:"open",value:function(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();var e=this.store.getSelectedOptions();if(e.length){var t=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+t+'"]');n&&this.ensureElementInView(this.content.list,n)}}},{key:"close",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}},{key:"updateClassStyles",value:function(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length){var e=!0,t=!1,n=void 0;try{for(var i,s=this.settings.class[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value;""!==r.trim()&&(this.main.main.classList.add(r.trim()),this.content.main.classList.add(r.trim()))}}catch(e){t=!0,n=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}}"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}},{key:"updateAriaAttributes",value:function(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}},{key:"mainDiv",value:function(){var e,t=this,n=document.createElement("div");n.dataset.id=this.settings.id,n.setAttribute("aria-label",this.settings.ariaLabel),n.tabIndex=0,n.onkeydown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":return t.callbacks.open(),"ArrowDown"===e.key?t.highlight("down"):t.highlight("up"),!1;case"Tab":return t.callbacks.close(),!0;case"Enter":case" ":t.callbacks.open();var n=t.content.list.querySelector("."+t.classes.highlighted);return n&&n.click(),!1;case"Escape":return t.callbacks.close(),!1}return!1},n.onclick=function(e){t.settings.disabled||(t.settings.isOpen?t.callbacks.close():t.callbacks.open())};var i=document.createElement("div");i.classList.add(this.classes.values),n.appendChild(i);var s=document.createElement("div");s.classList.add(this.classes.deselect);var r=null===(e=this.store)||void 0===e?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&r&&r.length<=0?s.classList.add(this.classes.hide):s.classList.remove(this.classes.hide),s.onclick=function(e){if(e.stopPropagation(),!t.settings.disabled){var n=!0,i=t.store.getSelectedOptions(),s=[];if(t.callbacks.beforeChange&&(n=!0===t.callbacks.beforeChange(s,i)),n){if(t.settings.isMultiple)t.callbacks.setSelected([],!1),t.updateDeselectAll();else{var r=t.store.getFirstOption(),a=r?r.value:"";t.callbacks.setSelected(a,!1)}t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(t.store.getSelectedOptions())}}};var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.deselectPath),a.appendChild(o),s.appendChild(a),n.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(c),n.appendChild(l),{main:n,values:i,deselect:{main:s,svg:a,path:o},arrow:{main:l,path:c}}}},{key:"mainFocus",value:function(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}},{key:"placeholder",value:function(){var e=this.store.filter((function(e){return e.placeholder}),!1),t=this.settings.placeholderText;e.length&&(""!==e[0].html?t=e[0].html:""!==e[0].text&&(t=e[0].text));var n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=t,n}},{key:"renderValues",value:function(){this.settings.isMultiple?this.renderMultipleValues():this.renderSingleValue()}},{key:"renderSingleValue",value:function(){var e=this.store.filter((function(e){return e.selected&&!e.placeholder}),!1),t=e.length>0?e[0]:null;if(t){var n=document.createElement("div");n.classList.add(this.classes.single),t.html?n.innerHTML=t.html:n.innerText=t.text,this.main.values.innerHTML=n.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}},{key:"renderMultipleValues",value:function(){var e=function(e){var i=t[e],s=i.getAttribute("data-id");s&&(n.filter((function(e){return e.id===s}),!1).length||a.push(i))},t=this.main.values.childNodes,n=this.store.filter((function(e){return e.selected&&e.display}),!1);if(0!==n.length){var i=this.main.values.querySelector("."+this.classes.placeholder);if(i&&i.remove(),n.length>this.settings.maxValuesShown){var s=document.createElement("div");return s.classList.add(this.classes.max),s.textContent=this.settings.maxValuesMessage.replace("{number}",n.length.toString()),void(this.main.values.innerHTML=s.outerHTML)}var r=this.main.values.querySelector("."+this.classes.max);r&&r.remove();for(var a=[],o=0;o<t.length;o++)e(o);var l=!0,c=!1,u=void 0;try{for(var h,d=this,f=function(e,t){var n=t.value,i=d;n.classList.add(d.classes.valueOut),setTimeout((function(){i.main.values.hasChildNodes()&&i.main.values.contains(n)&&i.main.values.removeChild(n)}),100)},p=a[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)f(p,h)}catch(e){c=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw u}}t=this.main.values.childNodes;for(var v=0;v<n.length;v++){for(var g=!0,y=0;y<t.length;y++)n[v].id===String(t[y].dataset.id)&&(g=!1);g&&(0===t.length?this.main.values.appendChild(this.multipleValue(n[v])):0===v?this.main.values.insertBefore(this.multipleValue(n[v]),t[v]):t[v-1].insertAdjacentElement("afterend",this.multipleValue(n[v])))}this.updateDeselectAll()}else this.main.values.innerHTML=this.placeholder().outerHTML}},{key:"multipleValue",value:function(e){var t=document.createElement("div");t.classList.add(this.classes.value),t.dataset.id=e.id;var n=document.createElement("div");if(n.classList.add(this.classes.valueText),n.innerText=e.text,t.appendChild(n),!e.mandatory){var i=this,s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.onclick=function(t){if(t.preventDefault(),t.stopPropagation(),!i.settings.disabled){var n=!0,s=i.store.getSelectedOptions(),r=s.filter((function(t){return t.selected&&t.id!==e.id}),!0);if(!(i.settings.minSelected&&r.length<i.settings.minSelected)&&(i.callbacks.beforeChange&&(n=!0===i.callbacks.beforeChange(r,s)),n)){var a=[],c=!0,u=!1,h=void 0;try{for(var d,f=r[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value,v=!0,g=!1,y=void 0;if(p instanceof o)try{for(var m,b=p.options[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value;a.push(w.value)}}catch(e){g=!0,y=e}finally{try{v||null==b.return||b.return()}finally{if(g)throw y}}p instanceof l&&a.push(p.value)}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}i.callbacks.setSelected(a,!1),i.settings.closeOnSelect&&i.callbacks.close(),i.callbacks.afterChange&&i.callbacks.afterChange(r),i.updateDeselectAll()}}};var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.classes.optionDelete),r.appendChild(a),s.appendChild(r),t.appendChild(s)}return t}},{key:"contentDiv",value:function(){var e=document.createElement("div");e.dataset.id=this.settings.id;var t=this.searchDiv();e.appendChild(t.main);var n=this.listDiv();return e.appendChild(n),{main:e,search:t,list:n}}},{key:"moveContent",value:function(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}},{key:"searchDiv",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("input"),s=document.createElement("div");t.classList.add(this.classes.search);var r={main:t,input:n};if(this.settings.showSearch||(t.classList.add(this.classes.hide),n.readOnly=!0),n.type="search",n.placeholder=this.settings.searchPlaceholder,n.tabIndex=-1,n.setAttribute("aria-label",this.settings.searchPlaceholder),n.setAttribute("autocapitalize","off"),n.setAttribute("autocomplete","off"),n.setAttribute("autocorrect","off"),n.oninput=i((function(t){e.callbacks.search(t.target.value)}),100),n.onkeydown=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===t.key?e.highlight("down"):e.highlight("up"),!1;case"Tab":return e.callbacks.close(),!0;case"Escape":return e.callbacks.close(),!1;case"Enter":case" ":if(e.callbacks.addable&&t.ctrlKey)return s.click(),!1;var n=e.content.list.querySelector("."+e.classes.highlighted);return!n||(n.click(),!1)}return!0},t.appendChild(n),this.callbacks.addable){var a=this;s.classList.add(this.classes.addable);var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",this.classes.addablePath),o.appendChild(c),s.appendChild(o),s.onclick=function(e){var t=a;if(e.preventDefault(),e.stopPropagation(),a.callbacks.addable){var n=a.content.search.input.value.trim();if(""!==n){var i=function(e){var n=t,i=new l(e);if(t.callbacks.addOption(i),t.settings.isMultiple){var s=t.store.getSelected();s.push(i.value),t.callbacks.setSelected(s,!0)}else t.callbacks.setSelected([i.value],!0);t.callbacks.search(""),t.settings.closeOnSelect&&setTimeout((function(){n.callbacks.close()}),100)},s=a.callbacks.addable(n);!1!==s&&null!=s&&(s instanceof Promise?s.then((function(e){i("string"==typeof e?{text:e,value:e}:e)})):i("string"==typeof s?{text:s,value:s}:s))}else a.content.search.input.focus()}},t.appendChild(s),r.addable={main:s,svg:o,path:c}}return r}},{key:"searchFocus",value:function(){this.content.search.input.focus()}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="."+this.classes.option;return e&&(i+=":not(."+this.classes.placeholder+")"),t&&(i+=":not(."+this.classes.disabled+")"),n&&(i+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(i))}},{key:"highlight",value:function(e){var t=this.getOptions(!0,!0,!0);if(0!==t.length)if(1!==t.length||t[0].classList.contains(this.classes.highlighted)){var n=!1,i=!0,s=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0)a.value.classList.contains(this.classes.highlighted)&&(n=!0)}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}if(!n){var l=!0,c=!1,u=void 0;try{for(var h,d=t[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;if(f.classList.contains(this.classes.selected)){f.classList.add(this.classes.highlighted);break}}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}for(var p=0;p<t.length;p++)if(t[p].classList.contains(this.classes.highlighted)){var v=t[p];v.classList.remove(this.classes.highlighted);var g=v.parentElement;if(g&&g.classList.contains(this.classes.open)){var y=g.querySelector("."+this.classes.optgroupLabel);y&&y.click()}var m=t["down"===e?p+1<t.length?p+1:0:p-1>=0?p-1:t.length-1];m.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,m);var b=m.parentElement;if(b&&b.classList.contains(this.classes.close)){var w=b.querySelector("."+this.classes.optgroupLabel);w&&w.click()}return}t["down"===e?0:t.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,t["down"===e?0:t.length-1])}else t[0].classList.add(this.classes.highlighted)}},{key:"listDiv",value:function(){var e=document.createElement("div");return e.classList.add(this.classes.list),e}},{key:"renderError",value:function(e){this.content.list.innerHTML="";var t=document.createElement("div");t.classList.add(this.classes.error),t.textContent=e,this.content.list.appendChild(t)}},{key:"renderSearching",value:function(){this.content.list.innerHTML="";var e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}},{key:"renderOptions",value:function(e){if(this.content.list.innerHTML="",0===e.length){var t=document.createElement("div");return t.classList.add(this.classes.search),t.innerHTML=this.settings.searchText,void this.content.list.appendChild(t)}var n=!0,i=!1,s=void 0;try{for(var r,a=this,c=function(e,t){var n=t.value;if(n instanceof o){var i=document.createElement("div");i.classList.add(a.classes.optgroup);var s=document.createElement("div");s.classList.add(a.classes.optgroupLabel),i.appendChild(s);var r=document.createElement("div");r.classList.add(a.classes.optgroupLabelText),r.textContent=n.label,s.appendChild(r);var c=document.createElement("div");if(c.classList.add(a.classes.optgroupActions),s.appendChild(c),a.settings.isMultiple&&n.selectAll){var u=a,h=document.createElement("div");h.classList.add(a.classes.optgroupSelectAll);var d=!0,f=!0,p=!1,v=void 0;try{for(var g,y=n.options[Symbol.iterator]();!(f=(g=y.next()).done);f=!0)if(!g.value.selected){d=!1;break}}catch(e){p=!0,v=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw v}}d&&h.classList.add(a.classes.selected);var m=document.createElement("span");m.textContent=n.selectAllText,h.appendChild(m);var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox","0 0 100 100"),h.appendChild(b);var w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",a.classes.optgroupSelectAllBox),b.appendChild(w);var O=document.createElementNS("http://www.w3.org/2000/svg","path");O.setAttribute("d",a.classes.optgroupSelectAllCheck),b.appendChild(O),h.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=u.store.getSelected();if(d){var i=t.filter((function(e){var t=!0,i=!1,s=void 0;try{for(var r,a=n.options[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)if(e===r.value.value)return!1}catch(e){i=!0,s=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw s}}return!0}));u.callbacks.setSelected(i,!0)}else{var s=t.concat(n.options.map((function(e){return e.value}))),r=!0,a=!1,o=void 0;try{for(var l,c=n.options[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;u.store.getOptionByID(h.id)||u.callbacks.addOption(h)}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}u.callbacks.setSelected(s,!0)}})),c.appendChild(h)}if("off"!==n.closable){var E=a,S=document.createElement("div");S.classList.add(a.classes.optgroupClosable);var x=document.createElementNS("http://www.w3.org/2000/svg","svg");x.setAttribute("viewBox","0 0 100 100"),x.classList.add(a.classes.arrow),S.appendChild(x);var A=document.createElementNS("http://www.w3.org/2000/svg","path");x.appendChild(A),n.options.some((function(e){return e.selected}))||""!==a.content.search.input.value.trim()?(S.classList.add(a.classes.open),A.setAttribute("d",a.classes.arrowOpen)):"open"===n.closable?(i.classList.add(a.classes.open),A.setAttribute("d",a.classes.arrowOpen)):"close"===n.closable&&(i.classList.add(a.classes.close),A.setAttribute("d",a.classes.arrowClose)),s.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),i.classList.contains(E.classes.close)?(i.classList.remove(E.classes.close),i.classList.add(E.classes.open),A.setAttribute("d",E.classes.arrowOpen)):(i.classList.remove(E.classes.open),i.classList.add(E.classes.close),A.setAttribute("d",E.classes.arrowClose))})),c.appendChild(S)}i.appendChild(s);var L=!0,k=!1,C=void 0;try{for(var T,B=n.options[Symbol.iterator]();!(L=(T=B.next()).done);L=!0){var D=T.value;i.appendChild(a.option(D))}}catch(e){k=!0,C=e}finally{try{L||null==B.return||B.return()}finally{if(k)throw C}}a.content.list.appendChild(i)}n instanceof l&&a.content.list.appendChild(a.option(n))},u=e[Symbol.iterator]();!(n=(r=u.next()).done);n=!0)c(u,r)}catch(e){i=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw s}}}},{key:"option",value:function(e){var t=this;if(e.placeholder){var n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}var i=document.createElement("div");return i.dataset.id=e.id,i.id=e.id,i.classList.add(this.classes.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){i.classList.add(e)})),e.style&&(i.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?i.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?i.innerHTML=e.html:i.textContent=e.text,this.settings.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent),e.display||i.classList.add(this.classes.hide),e.disabled&&i.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&i.classList.add(this.classes.hide),e.selected?(i.classList.add(this.classes.selected),i.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",i.id)):(i.classList.remove(this.classes.selected),i.setAttribute("aria-selected","false")),i.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t.store.getSelected(),s=n.currentTarget,r=String(s.dataset.id);if(!(e.disabled||e.selected&&!t.settings.allowDeselect||t.settings.isMultiple&&t.settings.maxSelected<=i.length&&!e.selected||t.settings.isMultiple&&t.settings.minSelected>=i.length&&e.selected)){var a=!1,o=t.store.getSelectedOptions(),l=[];t.settings.isMultiple&&(l=e.selected?o.filter((function(e){return e.id!==r})):o.concat(e)),t.settings.isMultiple||(l=e.selected?[]:[e]),t.callbacks.beforeChange||(a=!0),t.callbacks.beforeChange&&(a=!1!==t.callbacks.beforeChange(l,o)),a&&(t.store.getOptionByID(r)||t.callbacks.addOption(e),t.callbacks.setSelected(l.map((function(e){return e.value})),!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(l))}})),i}},{key:"destroy",value:function(){this.main.main.remove(),this.content.main.remove()}},{key:"highlightText",value:function(e,t,n){var i=e,s=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(s))return e;var r=e.match(s).index,a=r+e.match(s)[0].toString().length,o=e.substring(r,a);return i=i.replace(s,'<mark class="'.concat(n,'">').concat(o,"</mark>"))}},{key:"moveContentAbove",value:function(){var e=this.main.main.offsetHeight,t=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);var n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+t-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+window.scrollY+"px",this.content.main.style.left=n.left+window.scrollX+"px",this.content.main.style.width=n.width+"px"}},{key:"moveContentBelow",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);var e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}},{key:"ensureElementInView",value:function(e,t){var n=e.scrollTop+e.offsetTop,i=n+e.clientHeight,s=t.offsetTop,r=s+t.clientHeight;s<n?e.scrollTop-=n-s:r>i&&(e.scrollTop+=r-i)}},{key:"putContent",value:function(){var e=this.main.main.offsetHeight,t=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(t.top+e)<=n&&t.top>n?"up":"down"}},{key:"updateDeselectAll",value:function(){if(this.store&&this.settings){var e=this.store.getSelectedOptions(),t=e&&e.length>0,n=this.settings.isMultiple,i=this.settings.allowDeselect,s=this.main.deselect.main,r=this.classes.hide;!i||n&&!t?s.classList.add(r):s.classList.remove(r)}}}]),t}(),h=function(){function t(n){e(z)(this,t),this.listen=!1,this.observer=null,this.select=n,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}return e(J)(t,[{key:"enable",value:function(){this.select.disabled=!1}},{key:"disable",value:function(){this.select.disabled=!0}},{key:"hideUI",value:function(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}},{key:"showUI",value:function(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}},{key:"changeListen",value:function(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}},{key:"valueChange",value:function(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}},{key:"observeCall",value:function(e){if(this.listen){var t=!1,n=!1,i=!1,s=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var c=o.value;c.target===this.select&&("disabled"===c.attributeName&&(n=!0),"class"===c.attributeName&&(t=!0)),"OPTGROUP"!==c.target.nodeName&&"OPTION"!==c.target.nodeName||(i=!0)}}catch(e){r=!0,a=e}finally{try{s||null==l.return||l.return()}finally{if(r)throw a}}t&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),n&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),i&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}}},{key:"getData",value:function(){var e=[],t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;"OPTGROUP"===o.nodeName&&e.push(this.getDataFromOptgroup(o)),"OPTION"===o.nodeName&&e.push(this.getDataFromOption(o))}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return e}},{key:"getDataFromOptgroup",value:function(e){var t={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]},n=e.childNodes,i=!0,s=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var l=a.value;"OPTION"===l.nodeName&&t.options.push(this.getDataFromOption(l))}}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return t}},{key:"getDataFromOption",value:function(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}},{key:"getSelectedValues",value:function(){var e=[],t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("OPTGROUP"===o.nodeName){var l=o.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;if("OPTION"===p.nodeName){var v=p;v.selected&&e.push(v.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===o.nodeName){var g=o;g.selected&&e.push(g.value)}}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return e}},{key:"setSelected",value:function(e){this.changeListen(!1);var t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("OPTGROUP"===o.nodeName){var l=o.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;if("OPTION"===p.nodeName){var v=p;v.selected=e.includes(v.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===o.nodeName){var g=o;g.selected=e.includes(g.value)}}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}this.changeListen(!0)}},{key:"updateSelect",value:function(e,t,n){if(this.changeListen(!1),e&&(this.select.dataset.id=e),t&&(this.select.style.cssText=t),n){var i=this;this.select.className="",n.forEach((function(e){""!==e.trim()&&i.select.classList.add(e.trim())}))}this.changeListen(!0)}},{key:"updateOptions",value:function(e){this.changeListen(!1),this.select.innerHTML="";var t=!0,n=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;a instanceof o&&this.select.appendChild(this.createOptgroup(a)),a instanceof l&&this.select.appendChild(this.createOption(a))}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}},{key:"createOptgroup",value:function(e){var t=document.createElement("optgroup");t.id=e.id,t.label=e.label,e.selectAll&&(t.dataset.selectAll="true"),"off"!==e.closable&&(t.dataset.closable=e.closable);var n=!0,i=!1,s=void 0;if(e.options)try{for(var r,a=e.options[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t.appendChild(this.createOption(o))}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return t}},{key:"createOption",value:function(e){var t=document.createElement("option");return t.id=e.id,t.value=e.value,t.innerHTML=e.text,""!==e.html&&t.setAttribute("data-html",e.html),e.selected&&(t.selected=e.selected),e.disabled&&(t.disabled=!0),!1===e.display&&(t.style.display="none"),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(n){t.setAttribute("data-"+r(n),e.data[n])})),t}},{key:"destroy",value:function(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}]),t}(),d=function(){function t(s){var r,o=this;if(e(z)(this,t),this.events={search:void 0,searchFilter:function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=i((function(){(o.settings.isOpen||o.settings.isFullOpen)&&o.render.moveContent()})),this.windowScroll=i((function(){(o.settings.isOpen||o.settings.isFullOpen)&&o.render.moveContent()})),this.documentClick=function(e){o.settings.isOpen&&e.target&&!n(e.target,o.settings.id)&&o.close(e.type)},this.windowVisibilityChange=function(){document.hidden&&o.close()},this.selectEl="string"==typeof s.select?document.querySelector(s.select):s.select,this.selectEl)if("SELECT"===this.selectEl.tagName){this.selectEl.dataset.ssid&&this.destroy(),this.settings=new a(s.settings);var l=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(var d in s.events)s.events.hasOwnProperty(d)&&(-1!==l.indexOf(d)?this.events[d]=i(s.events[d],100):this.events[d]=s.events[d]);this.settings.disabled=(null===(r=s.settings)||void 0===r?void 0:r.disabled)?s.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new h(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=function(e){o.setSelected(e)},this.select.onClassChange=function(e){o.settings.class=e,o.render.updateClassStyles()},this.select.onDisabledChange=function(e){e?o.disable():o.enable()},this.select.onOptionsChange=function(e){o.setData(e)},this.store=new c(this.settings.isMultiple?"multiple":"single",s.data?s.data:this.select.getData()),s.data&&this.select.updateOptions(this.store.getData());var f={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new u(this.settings,this.store,f),this.render.renderValues(),this.render.renderOptions(this.store.getData());var p=this.selectEl.getAttribute("aria-label"),v=this.selectEl.getAttribute("aria-labelledby");p?this.render.main.main.setAttribute("aria-label",p):v&&this.render.main.main.setAttribute("aria-labelledby",v),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),document.addEventListener("click",this.documentClick),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}else s.events&&s.events.error&&s.events.error(new Error("Element isnt of type select"));else s.events&&s.events.error&&s.events.error(new Error("Could not find select element"))}return e(J)(t,[{key:"enable",value:function(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}},{key:"disable",value:function(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}},{key:"getData",value:function(){return this.store.getData()}},{key:"setData",value:function(e){var t=this.store.getSelected(),n=this.store.validateDataArray(e);if(n)this.events.error&&this.events.error(n);else{this.store.setData(e);var i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),this.render.renderOptions(i),this.events.afterChange&&!s(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}}},{key:"getSelected",value:function(){return this.store.getSelected()}},{key:"setSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(e)?e:[e]);var i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(i),t&&this.events.afterChange&&!s(n,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"addOption",value:function(e){var t=this.store.getSelected();this.store.getDataOptions().some((function(t){var n;return t.value===(null!==(n=e.value)&&void 0!==n?n:e.text)}))||this.store.addOption(e);var n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!s(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"open",value:function(){var e=this;this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout((function(){e.events.afterOpen&&e.events.afterOpen(),e.settings.isOpen&&(e.settings.isFullOpen=!0)}),this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout((function(){t.events.afterClose&&t.events.afterClose()}),this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}},{key:"search",value:function(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),this.events.search){this.render.renderSearching();var t=this.events.search(e,this.store.getSelectedOptions());if(t instanceof Promise){var n=this;t.then((function(e){n.render.renderOptions(n.store.partialToFullData(e))})).catch((function(e){n.render.renderError("string"==typeof e?e:e.message)}))}else Array.isArray(t)?this.render.renderOptions(this.store.partialToFullData(t)):this.render.renderError("Search event must return a promise or an array of data")}else this.render.renderOptions(""===e?this.store.getData():this.store.search(e,this.events.searchFilter))}},{key:"destroy",value:function(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}]),t}();return d}();(function(){"use strict";function t(){return Math.random().toString(36).substring(2,10)}function n(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var o=self,l=i&&!t;clearTimeout(t),t=setTimeout((function(){t=null,i||e.apply(o,r)}),n),l&&e.apply(o,r)}}function i(e,t){return JSON.stringify(e)===JSON.stringify(t)}var s=function n(i){e(z)(this,n),this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,i||(i={}),this.id="ss-"+t(),this.style=i.style||"",this.class=i.class||[],this.disabled=void 0!==i.disabled&&i.disabled,this.alwaysOpen=void 0!==i.alwaysOpen&&i.alwaysOpen,this.showSearch=void 0===i.showSearch||i.showSearch,this.ariaLabel=i.ariaLabel||"Combobox",this.searchPlaceholder=i.searchPlaceholder||"Search",this.searchText=i.searchText||"No Results",this.searchingText=i.searchingText||"Searching...",this.searchHighlight=void 0!==i.searchHighlight&&i.searchHighlight,this.closeOnSelect=void 0===i.closeOnSelect||i.closeOnSelect,this.contentLocation=i.contentLocation||document.body,this.contentPosition=i.contentPosition||"absolute",this.openPosition=i.openPosition||"auto",this.placeholderText=void 0!==i.placeholderText?i.placeholderText:"Select Value",this.allowDeselect=void 0!==i.allowDeselect&&i.allowDeselect,this.hideSelected=void 0!==i.hideSelected&&i.hideSelected,this.showOptionTooltips=void 0!==i.showOptionTooltips&&i.showOptionTooltips,this.minSelected=i.minSelected||0,this.maxSelected=i.maxSelected||1e3,this.timeoutDelay=i.timeoutDelay||200,this.maxValuesShown=i.maxValuesShown||20,this.maxValuesMessage=i.maxValuesMessage||"{number} selected"},r=function n(i){e(z)(this,n);var s=!0,r=!1,o=void 0;if(this.id=i.id&&""!==i.id?i.id:t(),this.label=i.label||"",this.selectAll=void 0!==i.selectAll&&i.selectAll,this.selectAllText=i.selectAllText||"Select All",this.closable=i.closable||"off",this.options=[],i.options)try{for(var l,c=i.options[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var u=l.value;this.options.push(new a(u))}}catch(e){r=!0,o=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw o}}},a=function n(i){e(z)(this,n),this.id=i.id&&""!==i.id?i.id:t(),this.value=void 0===i.value?i.text:i.value,this.text=i.text||"",this.html=i.html||"",this.selected=void 0!==i.selected&&i.selected,this.display=void 0===i.display||i.display,this.disabled=void 0!==i.disabled&&i.disabled,this.mandatory=void 0!==i.mandatory&&i.mandatory,this.placeholder=void 0!==i.placeholder&&i.placeholder,this.class=i.class||"",this.style=i.style||"",this.data=i.data||{}},o=function(){function t(n,i){e(z)(this,t),this.selectType="single",this.data=[],this.selectType=n,this.setData(i)}return e(J)(t,[{key:"validateDataArray",value:function(e){if(!Array.isArray(e))return new Error("Data must be an array");var t=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var l=s.value;if(!(l instanceof r||"label"in l))return l instanceof a||"text"in l?this.validateOption(l):new Error("Data object must be a valid optgroup or option");if(!("label"in l))return new Error("Optgroup must have a label");var c=!0,u=!1,h=void 0;if("options"in l&&l.options)try{for(var d,f=l.options[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;return this.validateOption(p)}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"validateOption",value:function(e){return"text"in e?null:new Error("Option must have a text")}},{key:"partialToFullData",value:function(e){var t=[];return e.forEach((function(e){if(e instanceof r||"label"in e){var n=[];"options"in e&&e.options&&e.options.forEach((function(e){n.push(new a(e))})),n.length>0&&t.push(new r(e))}(e instanceof a||"text"in e)&&t.push(new a(e))})),t}},{key:"setData",value:function(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}},{key:"getData",value:function(){return this.filter(null,!0)}},{key:"getDataOptions",value:function(){return this.filter(null,!1)}},{key:"addOption",value:function(e){this.setData(this.getData().concat(new a(e)))}},{key:"setSelectedBy",value:function(e,t){var n=null,i=!1,s=!0,o=!1,l=void 0;try{for(var c,u=this.data[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var h=c.value,d=!0,f=!1,p=void 0;if(h instanceof r)try{for(var v,g=h.options[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var y=v.value;n||(n=y),y.selected=!i&&t.includes(y[e]),y.selected&&"single"===this.selectType&&(i=!0)}}catch(e){f=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}h instanceof a&&(n||(n=h),h.selected=!i&&t.includes(h[e]),h.selected&&"single"===this.selectType&&(i=!0))}}catch(e){o=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(o)throw l}}"single"===this.selectType&&n&&!i&&(n.selected=!0)}},{key:"getSelected",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.value)})),t}},{key:"getSelectedOptions",value:function(){return this.filter((function(e){return e.selected}),!1)}},{key:"getSelectedIDs",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.id)})),t}},{key:"getOptgroupByID",value:function(e){var t=!0,n=!1,i=void 0;try{for(var s,a=this.data[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var o=s.value;if(o instanceof r&&o.id===e)return o}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return null}},{key:"getOptionByID",value:function(e){var t=this.filter((function(t){return t.id===e}),!1);return t.length?t[0]:null}},{key:"getSelectType",value:function(){return this.selectType}},{key:"getFirstOption",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var s,o=this.data[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var l=s.value;if(l instanceof r?e=l.options[0]:l instanceof a&&(e=l),e)break}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"search",value:function(e,t){return""===(e=e.trim())?this.getData():this.filter((function(n){return t(n,e)}),!0)}},{key:"filter",value:function(e,t){var n=[];return this.data.forEach((function(i){if(i instanceof r){var s=[];if(i.options.forEach((function(i){e&&!e(i)||(t?s.push(new a(i)):n.push(new a(i)))})),s.length>0){var o=new r(i);o.options=s,n.push(o)}}i instanceof a&&(e&&!e(i)||n.push(new a(i)))})),n}}]),t}(),l=function(){function t(n,i,s){e(z)(this,t),this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=i,this.settings=n,this.callbacks=s,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}return e(J)(t,[{key:"enable",value:function(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}},{key:"disable",value:function(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}},{key:"open",value:function(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();var e=this.store.getSelectedOptions();if(e.length){var t=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+t+'"]');n&&this.ensureElementInView(this.content.list,n)}}},{key:"close",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}},{key:"updateClassStyles",value:function(){var e=!0,t=!1,n=void 0;if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)try{for(var i,s=this.settings.class[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value;""!==r.trim()&&(this.main.main.classList.add(r.trim()),this.content.main.classList.add(r.trim()))}}catch(e){t=!0,n=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}},{key:"updateAriaAttributes",value:function(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}},{key:"mainDiv",value:function(){var e,t=this,n=document.createElement("div");n.dataset.id=this.settings.id,n.setAttribute("aria-label",this.settings.ariaLabel),n.tabIndex=0,n.onkeydown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":return t.callbacks.open(),"ArrowDown"===e.key?t.highlight("down"):t.highlight("up"),!1;case"Tab":return t.callbacks.close(),!0;case"Enter":case" ":t.callbacks.open();var n=t.content.list.querySelector("."+t.classes.highlighted);return n&&n.click(),!1;case"Escape":return t.callbacks.close(),!1}return!1},n.onclick=function(e){t.settings.disabled||(t.settings.isOpen?t.callbacks.close():t.callbacks.open())};var i=document.createElement("div");i.classList.add(this.classes.values),n.appendChild(i);var s=document.createElement("div");s.classList.add(this.classes.deselect);var r=null===(e=this.store)||void 0===e?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&r&&r.length<=0?s.classList.add(this.classes.hide):s.classList.remove(this.classes.hide),s.onclick=function(e){if(e.stopPropagation(),!t.settings.disabled){var n=!0,i=t.store.getSelectedOptions(),s=[];if(t.callbacks.beforeChange&&(n=!0===t.callbacks.beforeChange(s,i)),n){if(t.settings.isMultiple)t.callbacks.setSelected([],!1),t.updateDeselectAll();else{var r=t.store.getFirstOption(),a=r?r.value:"";t.callbacks.setSelected(a,!1)}t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(t.store.getSelectedOptions())}}};var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.deselectPath),a.appendChild(o),s.appendChild(a),n.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(c),n.appendChild(l),{main:n,values:i,deselect:{main:s,svg:a,path:o},arrow:{main:l,path:c}}}},{key:"mainFocus",value:function(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}},{key:"placeholder",value:function(){var e=this.store.filter((function(e){return e.placeholder}),!1),t=this.settings.placeholderText;e.length&&(""!==e[0].html?t=e[0].html:""!==e[0].text&&(t=e[0].text));var n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=t,n}},{key:"renderValues",value:function(){this.settings.isMultiple?this.renderMultipleValues():this.renderSingleValue()}},{key:"renderSingleValue",value:function(){var e=this.store.filter((function(e){return e.selected&&!e.placeholder}),!1),t=e.length>0?e[0]:null;if(t){var n=document.createElement("div");n.classList.add(this.classes.single),t.html?n.innerHTML=t.html:n.innerText=t.text,this.main.values.innerHTML=n.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}},{key:"renderMultipleValues",value:function(){var e=function(e){var t=n[e],s=t.getAttribute("data-id");s&&(i.filter((function(e){return e.id===s}),!1).length||o.push(t))},t=this,n=this.main.values.childNodes,i=this.store.filter((function(e){return e.selected&&e.display}),!1);if(0!==i.length){var s=this.main.values.querySelector("."+this.classes.placeholder);if(s&&s.remove(),i.length>this.settings.maxValuesShown){var r=document.createElement("div");return r.classList.add(this.classes.max),r.textContent=this.settings.maxValuesMessage.replace("{number}",i.length.toString()),void(this.main.values.innerHTML=r.outerHTML)}var a=this.main.values.querySelector("."+this.classes.max);a&&a.remove();for(var o=[],l=0;l<n.length;l++)e(l);var c=!0,u=!1,h=void 0;try{for(var d,f=this,p=function(e,n){var i=n.value;i.classList.add(f.classes.valueOut),setTimeout((function(){t.main.values.hasChildNodes()&&t.main.values.contains(i)&&t.main.values.removeChild(i)}),100)},v=o[Symbol.iterator]();!(c=(d=v.next()).done);c=!0)p(v,d)}catch(e){u=!0,h=e}finally{try{c||null==v.return||v.return()}finally{if(u)throw h}}n=this.main.values.childNodes;for(var g=0;g<i.length;g++){for(var y=!0,m=0;m<n.length;m++)i[g].id===String(n[m].dataset.id)&&(y=!1);y&&(0===n.length?this.main.values.appendChild(this.multipleValue(i[g])):0===g?this.main.values.insertBefore(this.multipleValue(i[g]),n[g]):n[g-1].insertAdjacentElement("afterend",this.multipleValue(i[g])))}this.updateDeselectAll()}else this.main.values.innerHTML=this.placeholder().outerHTML}},{key:"multipleValue",value:function(e){var t=document.createElement("div");t.classList.add(this.classes.value),t.dataset.id=e.id;var n=document.createElement("div");if(n.classList.add(this.classes.valueText),n.innerText=e.text,t.appendChild(n),!e.mandatory){var i=this,s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.onclick=function(t){if(t.preventDefault(),t.stopPropagation(),!i.settings.disabled){var n=!0,s=i.store.getSelectedOptions(),o=s.filter((function(t){return t.selected&&t.id!==e.id}),!0);if(!(i.settings.minSelected&&o.length<i.settings.minSelected)&&(i.callbacks.beforeChange&&(n=!0===i.callbacks.beforeChange(o,s)),n)){var l=[],c=!0,u=!1,h=void 0;try{for(var d,f=o[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value,v=!0,g=!1,y=void 0;if(p instanceof r)try{for(var m,b=p.options[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value;l.push(w.value)}}catch(e){g=!0,y=e}finally{try{v||null==b.return||b.return()}finally{if(g)throw y}}p instanceof a&&l.push(p.value)}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}i.callbacks.setSelected(l,!1),i.settings.closeOnSelect&&i.callbacks.close(),i.callbacks.afterChange&&i.callbacks.afterChange(o),i.updateDeselectAll()}}};var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",this.classes.optionDelete),o.appendChild(l),s.appendChild(o),t.appendChild(s)}return t}},{key:"contentDiv",value:function(){var e=document.createElement("div");e.dataset.id=this.settings.id;var t=this.searchDiv();e.appendChild(t.main);var n=this.listDiv();return e.appendChild(n),{main:e,search:t,list:n}}},{key:"moveContent",value:function(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}},{key:"searchDiv",value:function(){var e=this,t=document.createElement("div"),i=document.createElement("input"),s=document.createElement("div");t.classList.add(this.classes.search);var r={main:t,input:i};if(this.settings.showSearch||(t.classList.add(this.classes.hide),i.readOnly=!0),i.type="search",i.placeholder=this.settings.searchPlaceholder,i.tabIndex=-1,i.setAttribute("aria-label",this.settings.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.oninput=n((function(t){e.callbacks.search(t.target.value)}),100),i.onkeydown=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===t.key?e.highlight("down"):e.highlight("up"),!1;case"Tab":return e.callbacks.close(),!0;case"Escape":return e.callbacks.close(),!1;case"Enter":case" ":if(e.callbacks.addable&&t.ctrlKey)return s.click(),!1;var n=e.content.list.querySelector("."+e.classes.highlighted);return!n||(n.click(),!1)}return!0},t.appendChild(i),this.callbacks.addable){var o=this;s.classList.add(this.classes.addable);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",this.classes.addablePath),l.appendChild(c),s.appendChild(l),s.onclick=function(e){var t=o;if(e.preventDefault(),e.stopPropagation(),o.callbacks.addable){var n=o.content.search.input.value.trim();if(""!==n){var i=function(e){var n=t,i=new a(e);if(t.callbacks.addOption(i),t.settings.isMultiple){var s=t.store.getSelected();s.push(i.value),t.callbacks.setSelected(s,!0)}else t.callbacks.setSelected([i.value],!0);t.callbacks.search(""),t.settings.closeOnSelect&&setTimeout((function(){n.callbacks.close()}),100)},s=o.callbacks.addable(n);!1!==s&&null!=s&&(s instanceof Promise?s.then((function(e){i("string"==typeof e?{text:e,value:e}:e)})):i("string"==typeof s?{text:s,value:s}:s))}else o.content.search.input.focus()}},t.appendChild(s),r.addable={main:s,svg:l,path:c}}return r}},{key:"searchFocus",value:function(){this.content.search.input.focus()}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="."+this.classes.option;return e&&(i+=":not(."+this.classes.placeholder+")"),t&&(i+=":not(."+this.classes.disabled+")"),n&&(i+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(i))}},{key:"highlight",value:function(e){var t=this.getOptions(!0,!0,!0);if(0!==t.length)if(1!==t.length||t[0].classList.contains(this.classes.highlighted)){var n=!1,i=!0,s=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0)a.value.classList.contains(this.classes.highlighted)&&(n=!0)}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}if(!n){var l=!0,c=!1,u=void 0;try{for(var h,d=t[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;if(f.classList.contains(this.classes.selected)){f.classList.add(this.classes.highlighted);break}}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}for(var p=0;p<t.length;p++)if(t[p].classList.contains(this.classes.highlighted)){var v=t[p];v.classList.remove(this.classes.highlighted);var g=v.parentElement;if(g&&g.classList.contains(this.classes.open)){var y=g.querySelector("."+this.classes.optgroupLabel);y&&y.click()}var m=t["down"===e?p+1<t.length?p+1:0:p-1>=0?p-1:t.length-1];m.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,m);var b=m.parentElement;if(b&&b.classList.contains(this.classes.close)){var w=b.querySelector("."+this.classes.optgroupLabel);w&&w.click()}return}t["down"===e?0:t.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,t["down"===e?0:t.length-1])}else t[0].classList.add(this.classes.highlighted)}},{key:"listDiv",value:function(){var e=document.createElement("div");return e.classList.add(this.classes.list),e}},{key:"renderError",value:function(e){this.content.list.innerHTML="";var t=document.createElement("div");t.classList.add(this.classes.error),t.textContent=e,this.content.list.appendChild(t)}},{key:"renderSearching",value:function(){this.content.list.innerHTML="";var e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}},{key:"renderOptions",value:function(e){if(this.content.list.innerHTML="",0===e.length){var t=document.createElement("div");return t.classList.add(this.classes.search),t.innerHTML=this.settings.searchText,void this.content.list.appendChild(t)}var n=!0,i=!1,s=void 0;try{for(var o,l=this,c=function(e,t){var n=t.value;if(n instanceof r){var i=document.createElement("div");i.classList.add(l.classes.optgroup);var s=document.createElement("div");s.classList.add(l.classes.optgroupLabel),i.appendChild(s);var o=document.createElement("div");o.classList.add(l.classes.optgroupLabelText),o.textContent=n.label,s.appendChild(o);var c=document.createElement("div");if(c.classList.add(l.classes.optgroupActions),s.appendChild(c),l.settings.isMultiple&&n.selectAll){var u=l,h=document.createElement("div");h.classList.add(l.classes.optgroupSelectAll);var d=!0,f=!0,p=!1,v=void 0;try{for(var g,y=n.options[Symbol.iterator]();!(f=(g=y.next()).done);f=!0)if(!g.value.selected){d=!1;break}}catch(e){p=!0,v=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw v}}d&&h.classList.add(l.classes.selected);var m=document.createElement("span");m.textContent=n.selectAllText,h.appendChild(m);var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox","0 0 100 100"),h.appendChild(b);var w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",l.classes.optgroupSelectAllBox),b.appendChild(w);var O=document.createElementNS("http://www.w3.org/2000/svg","path");O.setAttribute("d",l.classes.optgroupSelectAllCheck),b.appendChild(O),h.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=u.store.getSelected();if(d){var i=t.filter((function(e){var t=!0,i=!1,s=void 0;try{for(var r,a=n.options[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)if(e===r.value.value)return!1}catch(e){i=!0,s=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw s}}return!0}));u.callbacks.setSelected(i,!0)}else{var s=t.concat(n.options.map((function(e){return e.value}))),r=!0,a=!1,o=void 0;try{for(var l,c=n.options[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;u.store.getOptionByID(h.id)||u.callbacks.addOption(h)}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}u.callbacks.setSelected(s,!0)}})),c.appendChild(h)}if("off"!==n.closable){var E=l,S=document.createElement("div");S.classList.add(l.classes.optgroupClosable);var x=document.createElementNS("http://www.w3.org/2000/svg","svg");x.setAttribute("viewBox","0 0 100 100"),x.classList.add(l.classes.arrow),S.appendChild(x);var A=document.createElementNS("http://www.w3.org/2000/svg","path");x.appendChild(A),n.options.some((function(e){return e.selected}))||""!==l.content.search.input.value.trim()?(S.classList.add(l.classes.open),A.setAttribute("d",l.classes.arrowOpen)):"open"===n.closable?(i.classList.add(l.classes.open),A.setAttribute("d",l.classes.arrowOpen)):"close"===n.closable&&(i.classList.add(l.classes.close),A.setAttribute("d",l.classes.arrowClose)),s.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),i.classList.contains(E.classes.close)?(i.classList.remove(E.classes.close),i.classList.add(E.classes.open),A.setAttribute("d",E.classes.arrowOpen)):(i.classList.remove(E.classes.open),i.classList.add(E.classes.close),A.setAttribute("d",E.classes.arrowClose))})),c.appendChild(S)}i.appendChild(s);var L=!0,k=!1,C=void 0;try{for(var T,B=n.options[Symbol.iterator]();!(L=(T=B.next()).done);L=!0){var D=T.value;i.appendChild(l.option(D))}}catch(e){k=!0,C=e}finally{try{L||null==B.return||B.return()}finally{if(k)throw C}}l.content.list.appendChild(i)}n instanceof a&&l.content.list.appendChild(l.option(n))},u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)c(u,o)}catch(e){i=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw s}}}},{key:"option",value:function(e){var t=this;if(e.placeholder){var n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}var i=document.createElement("div");return i.dataset.id=e.id,i.id=e.id,i.classList.add(this.classes.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){i.classList.add(e)})),e.style&&(i.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?i.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?i.innerHTML=e.html:i.textContent=e.text,this.settings.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent),e.display||i.classList.add(this.classes.hide),e.disabled&&i.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&i.classList.add(this.classes.hide),e.selected?(i.classList.add(this.classes.selected),i.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",i.id)):(i.classList.remove(this.classes.selected),i.setAttribute("aria-selected","false")),i.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t.store.getSelected(),s=n.currentTarget,r=String(s.dataset.id);if(!(e.disabled||e.selected&&!t.settings.allowDeselect||t.settings.isMultiple&&t.settings.maxSelected<=i.length&&!e.selected||t.settings.isMultiple&&t.settings.minSelected>=i.length&&e.selected)){var a=!1,o=t.store.getSelectedOptions(),l=[];t.settings.isMultiple&&(l=e.selected?o.filter((function(e){return e.id!==r})):o.concat(e)),t.settings.isMultiple||(l=e.selected?[]:[e]),t.callbacks.beforeChange||(a=!0),t.callbacks.beforeChange&&(a=!1!==t.callbacks.beforeChange(l,o)),a&&(t.store.getOptionByID(r)||t.callbacks.addOption(e),t.callbacks.setSelected(l.map((function(e){return e.value})),!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(l))}})),i}},{key:"destroy",value:function(){this.main.main.remove(),this.content.main.remove()}},{key:"highlightText",value:function(e,t,n){var i=e,s=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(s))return e;var r=e.match(s).index,a=r+e.match(s)[0].toString().length,o=e.substring(r,a);return i=i.replace(s,'<mark class="'.concat(n,'">').concat(o,"</mark>"))}},{key:"moveContentAbove",value:function(){var e=this.main.main.offsetHeight,t=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);var n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+t-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+window.scrollY+"px",this.content.main.style.left=n.left+window.scrollX+"px",this.content.main.style.width=n.width+"px"}},{key:"moveContentBelow",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);var e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}},{key:"ensureElementInView",value:function(e,t){var n=e.scrollTop+e.offsetTop,i=n+e.clientHeight,s=t.offsetTop,r=s+t.clientHeight;s<n?e.scrollTop-=n-s:r>i&&(e.scrollTop+=r-i)}},{key:"putContent",value:function(){var e=this.main.main.offsetHeight,t=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(t.top+e)<=n&&t.top>n?"up":"down"}},{key:"updateDeselectAll",value:function(){if(this.store&&this.settings){var e=this.store.getSelectedOptions(),t=e&&e.length>0,n=this.settings.isMultiple,i=this.settings.allowDeselect,s=this.main.deselect.main,r=this.classes.hide;!i||n&&!t?s.classList.add(r):s.classList.remove(r)}}}]),t}(),c=function(){function t(n){e(z)(this,t),this.listen=!1,this.observer=null,this.select=n,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}return e(J)(t,[{key:"enable",value:function(){this.select.disabled=!1}},{key:"disable",value:function(){this.select.disabled=!0}},{key:"hideUI",value:function(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}},{key:"showUI",value:function(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}},{key:"changeListen",value:function(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}},{key:"valueChange",value:function(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}},{key:"observeCall",value:function(e){if(this.listen){var t=!1,n=!1,i=!1,s=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var c=o.value;c.target===this.select&&("disabled"===c.attributeName&&(n=!0),"class"===c.attributeName&&(t=!0)),"OPTGROUP"!==c.target.nodeName&&"OPTION"!==c.target.nodeName||(i=!0)}}catch(e){r=!0,a=e}finally{try{s||null==l.return||l.return()}finally{if(r)throw a}}t&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),n&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),i&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}}},{key:"getData",value:function(){var e=[],t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;"OPTGROUP"===o.nodeName&&e.push(this.getDataFromOptgroup(o)),"OPTION"===o.nodeName&&e.push(this.getDataFromOption(o))}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return e}},{key:"getDataFromOptgroup",value:function(e){var t={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]},n=e.childNodes,i=!0,s=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var l=a.value;"OPTION"===l.nodeName&&t.options.push(this.getDataFromOption(l))}}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return t}},{key:"getDataFromOption",value:function(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}},{key:"getSelectedValues",value:function(){var e=[],t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("OPTGROUP"===o.nodeName){var l=o.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;if("OPTION"===p.nodeName){var v=p;v.selected&&e.push(v.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===o.nodeName){var g=o;g.selected&&e.push(g.value)}}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return e}},{key:"setSelected",value:function(e){this.changeListen(!1);var t=this.select.childNodes,n=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("OPTGROUP"===o.nodeName){var l=o.childNodes,c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;if("OPTION"===p.nodeName){var v=p;v.selected=e.includes(v.value)}}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}if("OPTION"===o.nodeName){var g=o;g.selected=e.includes(g.value)}}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}this.changeListen(!0)}},{key:"updateSelect",value:function(e,t,n){var i=this;this.changeListen(!1),e&&(this.select.dataset.id=e),t&&(this.select.style.cssText=t),n&&(this.select.className="",n.forEach((function(e){""!==e.trim()&&i.select.classList.add(e.trim())}))),this.changeListen(!0)}},{key:"updateOptions",value:function(e){this.changeListen(!1),this.select.innerHTML="";var t=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var l=s.value;l instanceof r&&this.select.appendChild(this.createOptgroup(l)),l instanceof a&&this.select.appendChild(this.createOption(l))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}},{key:"createOptgroup",value:function(e){var t=document.createElement("optgroup"),n=!0,i=!1,s=void 0;if(t.id=e.id,t.label=e.label,e.selectAll&&(t.dataset.selectAll="true"),"off"!==e.closable&&(t.dataset.closable=e.closable),e.options)try{for(var r,a=e.options[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t.appendChild(this.createOption(o))}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return t}},{key:"createOption",value:function(e){var t=document.createElement("option");return t.id=e.id,t.value=e.value,t.innerHTML=e.text,""!==e.html&&t.setAttribute("data-html",e.html),e.selected&&(t.selected=e.selected),e.disabled&&(t.disabled=!0),!1===e.display&&(t.style.display="none"),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(n){t.setAttribute("data-"+function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t}(n),e.data[n])})),t}},{key:"destroy",value:function(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}]),t}()})(),Wn.defaults.headers.common["x-api-key"]="live_QnYFBW48Rw6I7bGfsFA1QTbYdWtKQKT86j8h8KpF4TCTSz8rp4W4DFTADxItBVig";var Gn="live_QnYFBW48Rw6I7bGfsFA1QTbYdWtKQKT86j8h8KpF4TCTSz8rp4W4DFTADxItBVig";var Xn=document.querySelector(".breed-select"),Yn=document.querySelector(".cat-info"),Qn=document.querySelector(".loader"),$n=document.querySelector(".error");function Zn(){Xn.style.display="none",Qn.style.display="block",Qn.textContent="",Yn.style.display="none"}Qn.addEventListener("click",Zn),Qn.style.display="none",$n.style.display="none",fetch("".concat("https://api.thecatapi.com/v1/").concat("breeds","?api_key=").concat(Gn)).then((function(t){if(!t.ok)throw new Error(t.statusText);return new(e(Kn))({select:"#selectElement"}),t.json()})).then((function(t){Xn.insertAdjacentHTML("beforeend",t.map((function(e){var t=e.id,n=e.name;return'<option value="'.concat(t,'">').concat(n,"</option>")})).join("")),new(e(Kn))({select:".breed-select"})})).catch((function(e){return $n.style.display="block",Qn.style.display="none",Xn.style.display="none",void(Yn.style.display="none")})),Xn.addEventListener("change",(function(){Zn();var e,t=Xn.value;page=1,Yn.innerHTML="",(e=t,fetch("".concat("https://api.thecatapi.com/v1/images/search","?api_key=").concat(Gn,"&breed_ids=").concat(e,"&page=").concat(1)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))).then((function(e){return Yn.insertAdjacentHTML("beforeend",(n=(t=e)[0].breeds[0],i=n.name,s=n.description,r=n.temperament,Qn.style.display="none",void(Yn.style.display="block"),'\n  <img src="'.concat(t[0].url,'" alt="').concat(i,'" width="350">\n  <h2>').concat(i,"</h2>\n  <p>").concat(s,"</p>\n  <p>").concat(r,"</p>\n  ")));var t,n,i,s,r})).catch((function(e){return console.log(e)}))}))}();
//# sourceMappingURL=index.e49ccc28.js.map
